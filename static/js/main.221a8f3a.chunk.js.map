{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Login.js","components/Register.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/InfoTooltip.js","utils/api.js","utils/auth.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","useState","isMenuOpened","setMenu","stateProfileClass","stateMenuClass","stateHeaderContentClass","className","to","path","exact","onClick","email","onSignOut","CurrentUserContext","React","createContext","Card","card","cardData","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDeleteClick","aria-label","type","onCardClick","src","link","alt","name","onCardLike","length","Main","style","backgroundImage","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","onImage","onCardDelete","Footer","Login","setEmail","password","setPassword","onSubmit","e","preventDefault","onLogin","action","autoComplete","value","onChange","target","required","placeholder","Register","onRegister","ImagePopup","stateClassName","isOpen","stateImgSrc","stateImgName","id","onClose","PopupWithForm","title","children","buttonText","EditProfilePopup","setName","description","setDescription","useEffect","stateButtonValue","isLoading","onUpdateUser","minLength","maxLength","EditAvatarPopup","avatarLinkRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","InfoTooltip","statePopupClassName","stateLogoClassName","isSuccess","baseUrl","token","this","_baseUrl","_token","_headers","Authorization","res","ok","json","Promise","reject","status","fetch","method","headers","then","_getResponseData","body","JSON","stringify","signUpData","signInData","jwt","ProtectedRoute","Component","component","loggedIn","App","history","useHistory","isEditAvatarPopupOpen","setEditAvatarPopup","isEditProfilePopupOpen","setEditProfilePopup","isAddPlacePopupOpen","setAddPlacePopup","isDeleteCardPopupOpen","setDeleteCardPopup","isImagePopupOpen","setImagePopup","isInfoTooltipOpen","setInfoTooltip","setSuccess","setIsLoading","setCards","selectedCard","setSelectedCard","setCurrentUser","setLoggedIn","localStorage","getItem","auth","getUserData","data","push","all","api","getUserInfo","getInitialCards","userData","catch","error","console","log","closeAllPopups","Provider","removeItem","targetCard","changeLikeCardStatus","newCard","state","c","signIn","setItem","signUp","setUserInfo","setUserAvatar","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.221a8f3a.chunk.js","sourcesContent":["import { useState } from 'react';\nimport { Link, Route } from 'react-router-dom';\n\nfunction Header(props) {\n\n  const [isMenuOpened, setMenu] = useState(false);\n\n  const stateProfileClass = `header__profile ${isMenuOpened ? 'header__profile_opened' : ''}`;\n  const stateMenuClass = `header__menu header__menu_type_${isMenuOpened ? 'close' : 'open'}`;\n  const stateHeaderContentClass = `header__content ${isMenuOpened ? 'header__content_opened' : ''}`\n\n\n  const handleOpenMenu = () => {\n    setMenu(!isMenuOpened);\n  }\n\n  const handleSignOut = () => {\n    props.onSignOut();\n    setMenu(false);\n  }\n\n  return (\n    <header className='header'>\n      <div className={stateHeaderContentClass}>\n        <Link to=\"/\" className=\"header__logo\"/>\n        <Route path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\n        </Route>\n        <Route path=\"/sign-up\">\n          <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n        </Route>\n        <Route exact path=\"/\">\n          <button className={stateMenuClass} onClick={handleOpenMenu}/>\n          \n          <div className={stateProfileClass}>\n            <p className=\"header__email\">{props.email}</p>\n            <Link onClick={handleSignOut} to=\"sign-in\" className=\"header__link\">Выйти</Link>\n          </div>\n\n        </Route>\n      </div>\n\n    </header>\n  )\n}\n\nexport default Header;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\nexport const currentUser = {};","import { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const card = props.cardData;\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const handleClick = () => {\n    props.onCardClick(card);\n  }\n\n  const handleDeleteClick = () => {\n    props.onCardDeleteClick(card);\n  }\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `place__delete ${isOwn ? 'place__delete_active' : ''}`;\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `place__like ${isLiked ? 'place__like_active' : ''}`; \n\n  const handleLikeClick = () => {\n    props.onCardLike(card);\n  }\n\n  return (\n    <li className=\"place\">\n      <button onClick={handleDeleteClick} aria-label=\"Удалить\" type=\"button\" className={cardDeleteButtonClassName}></button>\n      <img onClick={handleClick} src={card.link} alt={`Фотография ${card.name}`} className=\"place__image\"/>\n      <div className=\"place__info\">\n        <h2 className=\"place__title\">{card.name}</h2>\n        <div className=\"place__likes\">\n          <button onClick={handleLikeClick} aria-label=\"Нравится\" type=\"button\" className={cardLikeButtonClassName}></button>\n          <span className=\"place__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Card from './Card.js';\n\nfunction Main(props) {\n  \n  const currentUser = useContext(CurrentUserContext);\n  \n  return(\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})`}}>\n          <div className=\"profile__avatar-edit\" onClick={props.onEditAvatar}/>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <p className=\"profile__job\">{currentUser.about}</p>\n          <button onClick={props.onEditProfile} aria-label=\"Редактировать\" type=\"button\" className=\"profile__edit-button\"/>\n        </div>\n        <button onClick={props.onAddPlace} aria-label=\"Добавить\" type=\"button\" className=\"profile__add-button\"/>\n      </section> \n      <section className=\"places\">\n        <ul className=\"places__list\">\n          {props.cards.map(card => {\n            return(\n              <Card \n                onCardClick={props.onImage} \n                cardData={card} \n                key={card._id}\n                onCardLike={props.onCardLike}\n                onCardDeleteClick={props.onCardDelete}\n              />\n            )\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n};\n\nexport default Main;","function Footer() {\n  return(   \n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","import { useState } from 'react';\n\n\nfunction Login(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleChangePassword = (e) => {\n    e.preventDefault();\n    setPassword(e.target.value);\n  }\n\n  const handleChangeEmail = (e) => {\n    e.preventDefault();\n    setEmail(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onLogin({\n      email: email,\n      password: password\n    })\n    setEmail('');\n    setPassword('');\n  }\n\n  return (\n    <div className=\"auth\">\n      <form onSubmit={handleSubmit} name={props.name} action=\"#\" className=\"auth__form\" autoComplete=\"off\">\n        <h2 className=\"auth__title\">Вход</h2>\n        <input value={email} onChange={handleChangeEmail} required name=\"login\" type=\"email\" placeholder=\"Email\" className=\"auth__input auth__input_field_email\"/>\n        <input value={password} onChange={handleChangePassword} required name=\"password\" type=\"password\" placeholder=\"Пароль\" className=\"auth__input auth__input_field_password\"/>\n        <button aria-label=\"Войти\" type=\"submit\" className=\"auth__submit-button\">Войти</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Login;","import { Link } from 'react-router-dom';\nimport { useState } from 'react';\n\n\nfunction Register(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n\n  const handleChangePassword = (e) => {\n    e.preventDefault();\n    setPassword(e.target.value);\n  }\n\n  const handleChangeEmail = (e) => {\n    e.preventDefault();\n    setEmail(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onRegister({\n      email: email,\n      password: password\n    })\n    setEmail('');\n    setPassword('');\n  }\n\n  return (\n    <div className=\"auth\">\n      <form onSubmit={handleSubmit} name={props.name} action=\"#\" className=\"auth__form\" autoComplete=\"off\">\n        <h2 className=\"auth__title\">Регистрация</h2>\n        <input value={email} onChange={handleChangeEmail} required name=\"login\" type=\"email\" placeholder=\"Email\" className=\"auth__input\"/>\n        <input value={password} onChange={handleChangePassword} required name=\"password\" type=\"password\" placeholder=\"Пароль\" className=\"auth__input\"/>\n        <button aria-label=\"Войти\" type=\"submit\" className=\"auth__submit-button\">Зарегистрироваться</button>\n      </form>\n      <p className=\"auth__caption\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"auth__link\">Войти</Link></p>\n    </div>\n  )\n}\n\nexport default Register;","function ImagePopup(props) {\n\n  const handleClick = () => {\n    props.onClose();\n  }\n\n  const stateClassName = `popup ${props.isOpen ? 'popup_opened' : '' } `;\n  const stateImgSrc = `${props.card ? props.card.link : '#' } `;\n  const stateImgName = `${props.card ? props.card.name : '' } `;\n\n  return(\n    <div id=\"photo-popup\" className={stateClassName}>\n      <div className=\"popup__photo-container\">\n        <button onClick={handleClick} id=\"photo-card-close-button\" aria-label=\"Закрыть\" type=\"button\" className=\"popup__close-button\"/>\n        <figure className=\"popup__figure\">\n          <img className=\"popup__big-image\" src={stateImgSrc} alt=\"Фотография большого размера\"/>\n          <figcaption className=\"popup__caption\">{stateImgName}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","import React from 'react';\n\n\nfunction PopupWithForm (props) {\n  \n  const handleClick = () => {\n    props.onClose();\n  }\n\n  const stateClassName = `popup ${props.isOpen ? 'popup_opened' : '' } `;\n  \n  return(\n    <div className={stateClassName}>\n      <div className=\"popup__container\">\n        <form onSubmit={props.onSubmit} name={props.name} action=\"#\" className=\"popup__form\" autoComplete=\"off\">\n          <button onClick={handleClick} aria-label=\"Закрыть\" type=\"button\" className=\"popup__close-button\"></button>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n          <button aria-label=\"Сохранить\" type=\"submit\" className=\"popup__save-button\">{props.buttonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import { useEffect, useState, useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    props.onUpdateUser({\n      name : name,\n      about: description\n    });\n  };\n\n  const stateButtonValue = `${props.isLoading ? 'Сохранение...' : 'Сохранить'}`\n\n  return (\n    <PopupWithForm \n        title='Редактировать профиль' \n        name='profile-edit' \n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n        buttonText={stateButtonValue}\n      >\n        <input value={name || ''} onChange={handleChangeName} required name=\"inputName\" type=\"text\" placeholder=\"Имя\" className=\"popup__input popup__input_field_name\" minLength=\"2\" maxLength=\"40\"/>\n        <span className=\"popup__input-error\"/>\n        <input value={description || ''} onChange={handleChangeDescription} required name=\"inputJob\" type=\"text\" placeholder=\"Вид деятельности\" className=\"popup__input popup__input_field_job\" minLength=\"2\" maxLength=\"200\"/>\n        <span className=\"popup__input-error\"/>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;","import { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\n\nfunction EditAvatarPopup(props) {\n\n  const avatarLinkRef = useRef('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarLinkRef.current.value\n    })\n    avatarLinkRef.current.value = '';\n  }\n\n  const stateButtonValue = `${props.isLoading ? 'Сохранение...' : 'Сохранить'}`\n  \n  return(\n    <PopupWithForm \n      title='Обновить аватар' \n      name='edit-avatar' \n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      buttonText={stateButtonValue}\n    >\n      <input ref={avatarLinkRef} required name=\"newCardLink\" type=\"url\" placeholder=\"Ссылка на новый аватар\" className=\"popup__input popup__input_field_avatar-link\"/>\n      <span className=\"popup__input-error\"/>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeLink = (e) => {\n    setLink(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: name,\n      link: link\n    });\n    setName('');\n    setLink('');\n  };\n\n  const stateButtonValue = `${props.isLoading ? 'Добавление...' : 'Добавить'}`\n\n  return (\n    <PopupWithForm \n        title='Новое место' \n        name='add-card' \n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n        buttonText={stateButtonValue}\n      >\n        <input value={name} onChange={handleChangeName} required name=\"newCardName\" type=\"text\" placeholder=\"Название\" className=\"popup__input popup__input_field_card-name\" minLength=\"2\" maxLength=\"30\"/>\n        <span className=\"popup__input-error\"/>\n        <input value={link} onChange={handleChangeLink} required name=\"newCardLink\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_field_card-link\"/>\n        <span className=\"popup__input-error\"/>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;","import PopupWithForm from \"./PopupWithForm\";\n\nfunction DeleteCardPopup(props) {\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onDeleteCard(props.card);\n  }\n\n  const stateButtonValue = `${props.isLoading ? 'Удаление...' : 'Да'}`\n\n  return(\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name='delete-card'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      buttonText={stateButtonValue}\n    />\n  )\n}\n\nexport default DeleteCardPopup;","\n\nfunction InfoTooltip(props) {\n\n  const handleClick = () => {\n    props.onClose();\n  }\n\n  const statePopupClassName = `popup ${props.isOpen ? 'popup_opened' : ''}`;\n  const stateLogoClassName = `popup__logo ${props.isSuccess ? 'popup__logo_type_success' : 'popup__logo_type_fail'}`;\n\n  return (\n    <div className={statePopupClassName}>\n      <div className=\"popup__container\">\n        <button onClick={handleClick} aria-label=\"Закрыть\" type=\"button\" className=\"popup__close-button\"></button>\n        <div className={stateLogoClassName}></div>\n        <p className=\"popup__title popup__title_type_info\">{props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip","class Api {\n  constructor({baseUrl, token}) {\n    this._baseUrl = baseUrl;\n    this._token = token;\n    this._headers = {\n      Authorization: this._token,\n      'Content-Type': 'application/json'\n    };\n  };\n\n  _getResponseData(res) {\n    if(!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    };\n    return res.json();\n  };\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then(this._getResponseData);\n  };\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then(this._getResponseData);\n  };\n\n  setUserInfo({name, about}) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n      .then(this._getResponseData);\n  };\n\n  setUserAvatar({avatar}) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n      .then(this._getResponseData);\n  };\n\n  addCard({name, link}) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(this._getResponseData);\n  };\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._getResponseData);\n  };\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method:`${isLiked ? 'DELETE' : 'PUT'}`,\n      headers: this._headers\n    })\n      .then(this._getResponseData);\n  };\n};\n\nexport default new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  token: 'dff2004b-ae2b-4b49-ae11-6674a4b5c7dc'\n});\n","class Auth {\n  constructor({baseUrl, token}) {\n    this._baseUrl = baseUrl;\n    // this._token = token;\n    // this._headers = {\n    //   Authorization: this._token,\n    //   'Content-Type': 'application/json'\n    // };\n  };\n\n  _getResponseData(res) {\n    if(!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    };\n    return res.json();\n  };\n\n  signUp(signUpData) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"email\": signUpData.email,\n        \"password\": signUpData.password\n      })\n    })\n    .then(this._getResponseData);\n  }\n\n  signIn(signInData) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'email': signInData.email,\n        'password': signInData.password\n      })\n    })\n    .then(this._getResponseData);\n  }\n\n  getUserData(jwt) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${jwt}`\n      },\n    })\n    .then(this._getResponseData);\n  }\n\n\n\n\n\n}\n\n\n\n\n\n\n\nexport default new Auth({\n  baseUrl: 'https://auth.nomoreparties.co',\n\n});","import { Route, Redirect } from \"react-router-dom\";\n\n\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() => \n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;","import React, { useEffect, useState } from 'react';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport Login from './Login';\nimport Register from './Register';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport InfoTooltip from './InfoTooltip';\n\nimport api from '../utils/api.js';\nimport auth from '../utils/auth.js';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport ProtectedRoute from './ProtectedRoute';\n\n\nfunction App() {\n\n  const history = useHistory();\n  \n  const [isEditAvatarPopupOpen, setEditAvatarPopup] = useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopup] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopup] = useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopup] = useState(false);\n  const [isImagePopupOpen, setImagePopup] = useState(false);\n  const [isInfoTooltipOpen, setInfoTooltip] = useState(false);\n  const [isSuccess, setSuccess] = useState(false);\n\n  \n  const [isLoading, setIsLoading] = useState(false);\n\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  \n  useEffect(() => {\n    if(localStorage.getItem('token')) {\n      setLoggedIn(true);\n      auth.getUserData(localStorage.getItem('token'))\n        .then(res => {\n          setEmail(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        })\n    }\n\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userData, cards]) => {\n      setCurrentUser(userData);\n      setCards(cards);\n    })\n    .catch(error => {\n      console.log(`Ошибка при получении данных: ${error}`);\n    })\n  }, []);\n\n  const handleCardClick = (targetCard) => {\n    setImagePopup(true);\n    setSelectedCard(targetCard);\n  };\n\n  const handleDeleteCardClick = (targetCard) => {\n    setDeleteCardPopup(true);\n    setSelectedCard(targetCard);\n  };\n\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopup(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setEditProfilePopup(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setAddPlacePopup(true);\n  };\n\n  const closeAllPopups = () => {\n    setEditAvatarPopup(false);\n    setEditProfilePopup(false);\n    setAddPlacePopup(false);\n    setDeleteCardPopup(false);\n    setImagePopup(false);\n    setInfoTooltip(false);\n    setSelectedCard(null);\n  };\n\n  const handleUpdateUser = ({name, about}) => {\n    setIsLoading(true);\n\n    api.setUserInfo({name, about})\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.log(`Ошибка при обновлении данных пользователя: ${error}`);\n      });\n  };\n\n  const handleUpdateAvatar = ({avatar}) => {\n    setIsLoading(true);\n\n    api.setUserAvatar({avatar})\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.log(`Ошибка при обновлении аватара: ${error}`);\n      });\n  };\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then(newCard => {\n        setCards(state => state.map(c => c._id === card._id ? newCard : c));\n      })\n      .catch(error => {\n        console.log(`Ошибка при установке/удалении лайка: ${error}`);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    setIsLoading(true);\n\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter(i => i._id !== card._id));\n        closeAllPopups();\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.log(`Ошибка при удалении карточки: ${error}`);\n      });\n  };\n\n  const handleAddPlaceSubmit = ({name, link}) => {\n    setIsLoading(true);\n\n    api.addCard({name, link})\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.log(`Ошибка при добавлении новой карточки: ${error}`);\n      });\n  };\n  \n  const handleRegister = (signUpData) => {\n    auth.signUp(signUpData)\n      .then(() => {\n        setSuccess(true);\n        setInfoTooltip(true);\n        history.push('/sign-in');\n      })\n      .catch((error) => {\n        setSuccess(false);\n        setInfoTooltip(true);\n        console.log(error);\n      })\n  }\n\n  const handleLogin = (signInData) => {\n    auth.signIn(signInData)\n      .then(res => {\n        localStorage.setItem('token',res.token);\n        auth.getUserData(localStorage.getItem('token'))\n          .then(res => {\n            setEmail(res.data.email);\n            setLoggedIn(true);\n            history.push('/');\n          })\n      })\n      .catch(error => {\n        setSuccess(false);\n        setInfoTooltip(true);\n        console.log(error);\n      })\n  }\n\n  const handleSignOut = () => {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  return(\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <Header email={email} onSignOut={handleSignOut}/>\n          <Switch>\n            <ProtectedRoute \n              exact path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onImage={handleCardClick}\n              onCardDelete={handleDeleteCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n            />\n            <Route path=\"/sign-in\">\n              <Login onLogin={handleLogin} />\n            </Route>\n\n            <Route path=\"/sign-up\">\n              <Register onRegister={handleRegister} />\n            </Route>\n\n            <Route>\n              { loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" /> }\n            </Route>\n          </Switch>\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isLoading={isLoading}\n          />\n          \n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            isLoading={isLoading}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            isLoading={isLoading}\n          />\n\n          <DeleteCardPopup\n            isOpen={isDeleteCardPopupOpen}\n            onClose={closeAllPopups}\n            onDeleteCard={handleCardDelete}\n            card={selectedCard}\n            isLoading={isLoading}\n          />\n\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n          <InfoTooltip\n            isOpen={isInfoTooltipOpen}\n            onClose={closeAllPopups}\n            isSuccess={isSuccess}\n          />\n\n          <Footer />\n        </div>\n      </CurrentUserContext.Provider>\n    \n    \n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}